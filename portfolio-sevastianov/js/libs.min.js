function scrollX(){return window.pageXOffset||docElem.scrollLeft}function scrollY(){return window.pageYOffset||docElem.scrollTop}function getOffset(e){var t=e.getBoundingClientRect();return{top:t.top+scrollY(),left:t.left+scrollX()}}function getViewportW(){var e=docElem.clientWidth,t=window.innerWidth;return e<t?t:e}function getViewportH(){var e=docElem.clientHeight,t=window.innerHeight;return e<t?t:e}function extend(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}window.Modernizr=function(e,t,n){function i(e){g.cssText=e}function r(e,t){return typeof e===t}function o(e,t){return!!~(""+e).indexOf(t)}function s(e,t){for(var i in e){var r=e[i];if(!o(r,"-")&&g[r]!==n)return"pfx"!=t||r}return!1}function a(e,t,i){for(var o in e){var s=t[e[o]];if(s!==n)return!1===i?e[o]:r(s,"function")?s.bind(i||t):s}return!1}function l(e,t,n){var i=e.charAt(0).toUpperCase()+e.slice(1),o=(e+" "+w.join(i+" ")+i).split(" ");return r(t,"string")||r(t,"undefined")?s(o,t):(o=(e+" "+C.join(i+" ")+i).split(" "),a(o,t,n))}var c,d,u="2.7.1",p={},f=!0,h=t.documentElement,m="modernizr",v=t.createElement(m),g=v.style,y=" -webkit- -moz- -o- -ms- ".split(" "),E="Webkit Moz O ms",w=E.split(" "),C=E.toLowerCase().split(" "),b={},x=[],T=x.slice,N=function(e,n,i,r){var o,s,a,l,c=t.createElement("div"),d=t.body,u=d||t.createElement("body");if(parseInt(i,10))for(;i--;)a=t.createElement("div"),a.id=r?r[i]:m+(i+1),c.appendChild(a);return o=["&#173;",'<style id="s',m,'">',e,"</style>"].join(""),c.id=m,(d?c:u).innerHTML+=o,u.appendChild(c),d||(u.style.background="",u.style.overflow="hidden",l=h.style.overflow,h.style.overflow="hidden",h.appendChild(u)),s=n(c,e),d?c.parentNode.removeChild(c):(u.parentNode.removeChild(u),h.style.overflow=l),!!s},S={}.hasOwnProperty;d=r(S,"undefined")||r(S.call,"undefined")?function(e,t){return t in e&&r(e.constructor.prototype[t],"undefined")}:function(e,t){return S.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=T.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=t.prototype;var o=new r,s=t.apply(o,n.concat(T.call(arguments)));return Object(s)===s?s:o}return t.apply(e,n.concat(T.call(arguments)))};return i}),b.csstransforms3d=function(){var e=!!l("perspective");return e&&"webkitPerspective"in h.style&&N("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t,n){e=9===t.offsetLeft&&3===t.offsetHeight}),e},b.csstransitions=function(){return l("transition")};for(var z in b)d(b,z)&&(c=z.toLowerCase(),p[c]=b[z](),x.push((p[c]?"":"no-")+c));return p.addTest=function(e,t){if("object"==typeof e)for(var i in e)d(e,i)&&p.addTest(i,e[i]);else{if(e=e.toLowerCase(),p[e]!==n)return p;t="function"==typeof t?t():t,void 0!==f&&f&&(h.className+=" "+(t?"":"no-")+e),p[e]=t}return p},i(""),v=null,function(e,t){function n(e,t){var n=e.createElement("p"),i=e.getElementsByTagName("head")[0]||e.documentElement;return n.innerHTML="x<style>"+t+"</style>",i.insertBefore(n.lastChild,i.firstChild)}function i(){var e=y.elements;return"string"==typeof e?e.split(" "):e}function r(e){var t=g[e[m]];return t||(t={},v++,e[m]=v,g[v]=t),t}function o(e,n,i){if(n||(n=t),d)return n.createElement(e);i||(i=r(n));var o;return o=i.cache[e]?i.cache[e].cloneNode():h.test(e)?(i.cache[e]=i.createElem(e)).cloneNode():i.createElem(e),!o.canHaveChildren||f.test(e)||o.tagUrn?o:i.frag.appendChild(o)}function s(e,n){if(e||(e=t),d)return e.createDocumentFragment();n=n||r(e);for(var o=n.frag.cloneNode(),s=0,a=i(),l=a.length;s<l;s++)o.createElement(a[s]);return o}function a(e,t){t.cache||(t.cache={},t.createElem=e.createElement,t.createFrag=e.createDocumentFragment,t.frag=t.createFrag()),e.createElement=function(n){return y.shivMethods?o(n,e,t):t.createElem(n)},e.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/[\w\-]+/g,function(e){return t.createElem(e),t.frag.createElement(e),'c("'+e+'")'})+");return n}")(y,t.frag)}function l(e){e||(e=t);var i=r(e);return y.shivCSS&&!c&&!i.hasCSS&&(i.hasCSS=!!n(e,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),d||a(e,i),e}var c,d,u="3.7.0",p=e.html5||{},f=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,h=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,m="_html5shiv",v=0,g={};!function(){try{var e=t.createElement("a");e.innerHTML="<xyz></xyz>",c="hidden"in e,d=1==e.childNodes.length||function(){t.createElement("a");var e=t.createDocumentFragment();return void 0===e.cloneNode||void 0===e.createDocumentFragment||void 0===e.createElement}()}catch(e){c=!0,d=!0}}();var y={elements:p.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:u,shivCSS:!1!==p.shivCSS,supportsUnknownElements:d,shivMethods:!1!==p.shivMethods,type:"default",shivDocument:l,createElement:o,createDocumentFragment:s};e.html5=y,l(t)}(this,t),p._version=u,p._prefixes=y,p._domPrefixes=C,p._cssomPrefixes=w,p.testProp=function(e){return s([e])},p.testAllProps=l,p.testStyles=N,p.prefixed=function(e,t,n){return t?l(e,t,n):l(e,"pfx")},h.className=h.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(f?" js "+x.join(" "):""),p}(0,this.document),function(e,t,n){function i(e){return"[object Function]"==v.call(e)}function r(e){return"string"==typeof e}function o(){}function s(e){return!e||"loaded"==e||"complete"==e||"uninitialized"==e}function a(){var e=g.shift();y=1,e?e.t?h(function(){("c"==e.t?p.injectCss:p.injectJs)(e.s,0,e.a,e.x,e.e,1)},0):(e(),a()):y=0}function l(e,n,i,r,o,l,c){function d(t){if(!f&&s(u.readyState)&&(E.r=f=1,!y&&a(),u.onload=u.onreadystatechange=null,t)){"img"!=e&&h(function(){C.removeChild(u)},50);for(var i in S[n])S[n].hasOwnProperty(i)&&S[n][i].onload()}}var c=c||p.errorTimeout,u=t.createElement(e),f=0,v=0,E={t:i,s:n,e:o,a:l,x:c};1===S[n]&&(v=1,S[n]=[]),"object"==e?u.data=n:(u.src=n,u.type=e),u.width=u.height="0",u.onerror=u.onload=u.onreadystatechange=function(){d.call(this,v)},g.splice(r,0,E),"img"!=e&&(v||2===S[n]?(C.insertBefore(u,w?null:m),h(d,c)):S[n].push(u))}function c(e,t,n,i,o){return y=0,t=t||"j",r(e)?l("c"==t?x:b,e,t,this.i++,n,i,o):(g.splice(this.i++,0,e),1==g.length&&a()),this}function d(){var e=p;return e.loader={load:c,i:0},e}var u,p,f=t.documentElement,h=e.setTimeout,m=t.getElementsByTagName("script")[0],v={}.toString,g=[],y=0,E="MozAppearance"in f.style,w=E&&!!t.createRange().compareNode,C=w?f:m.parentNode,f=e.opera&&"[object Opera]"==v.call(e.opera),f=!!t.attachEvent&&!f,b=E?"object":f?"script":"img",x=f?"script":b,T=Array.isArray||function(e){return"[object Array]"==v.call(e)},N=[],S={},z={timeout:function(e,t){return t.length&&(e.timeout=t[0]),e}};p=function(e){function t(e){var t,n,i,e=e.split("!"),r=N.length,o=e.pop(),s=e.length,o={url:o,origUrl:o,prefixes:e};for(n=0;n<s;n++)i=e[n].split("="),(t=z[i.shift()])&&(o=t(o,i));for(n=0;n<r;n++)o=N[n](o);return o}function s(e,r,o,s,a){var l=t(e),c=l.autoCallback;l.url.split(".").pop().split("?").shift(),l.bypass||(r&&(r=i(r)?r:r[e]||r[s]||r[e.split("/").pop().split("?")[0]]),l.instead?l.instead(e,r,o,s,a):(S[l.url]?l.noexec=!0:S[l.url]=1,o.load(l.url,l.forceCSS||!l.forceJS&&"css"==l.url.split(".").pop().split("?").shift()?"c":n,l.noexec,l.attrs,l.timeout),(i(r)||i(c))&&o.load(function(){d(),r&&r(l.origUrl,a,s),c&&c(l.origUrl,a,s),S[l.url]=2})))}function a(e,t){function n(e,n){if(e){if(r(e))n||(u=function(){var e=[].slice.call(arguments);p.apply(this,e),f()}),s(e,u,t,0,c);else if(Object(e)===e)for(l in a=function(){var t,n=0;for(t in e)e.hasOwnProperty(t)&&n++;return n}(),e)e.hasOwnProperty(l)&&(!n&&!--a&&(i(u)?u=function(){var e=[].slice.call(arguments);p.apply(this,e),f()}:u[l]=function(e){return function(){var t=[].slice.call(arguments);e&&e.apply(this,t),f()}}(p[l])),s(e[l],u,t,l,c))}else!n&&f()}var a,l,c=!!e.test,d=e.load||e.both,u=e.callback||o,p=u,f=e.complete||o;n(c?e.yep:e.nope,!!d),d&&n(d)}var l,c,u=this.yepnope.loader;if(r(e))s(e,0,u,0);else if(T(e))for(l=0;l<e.length;l++)c=e[l],r(c)?s(c,0,u,0):T(c)?p(c):Object(c)===c&&a(c,u);else Object(e)===e&&a(e,u)},p.addPrefix=function(e,t){z[e]=t},p.addFilter=function(e){N.push(e)},p.errorTimeout=1e4,null==t.readyState&&t.addEventListener&&(t.readyState="loading",t.addEventListener("DOMContentLoaded",u=function(){t.removeEventListener("DOMContentLoaded",u,0),t.readyState="complete"},0)),e.yepnope=d(),e.yepnope.executeStack=a,e.yepnope.injectJs=function(e,n,i,r,l,c){var d,u,f=t.createElement("script"),r=r||p.errorTimeout;f.src=e;for(u in i)f.setAttribute(u,i[u]);n=c?a:n||o,f.onreadystatechange=f.onload=function(){!d&&s(f.readyState)&&(d=1,n(),f.onload=f.onreadystatechange=null)},h(function(){d||(d=1,n(1))},r),l?f.onload():m.parentNode.insertBefore(f,m)},e.yepnope.injectCss=function(e,n,i,r,s,l){var c,r=t.createElement("link"),n=l?a:n||o;r.href=e,r.rel="stylesheet",r.type="text/css";for(c in i)r.setAttribute(c,i[c]);s||(m.parentNode.insertBefore(r,m),h(n,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},Modernizr.addTest("pointerevents",function(){var e,t=document.createElement("x"),n=document.documentElement,i=window.getComputedStyle;return"pointerEvents"in t.style&&(t.style.pointerEvents="auto",t.style.pointerEvents="x",n.appendChild(t),e=i&&"auto"===i(t,"").pointerEvents,n.removeChild(t),!!e)}),function(e){"use strict";function t(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function n(e,t){(i(e,t)?o:r)(e,t)}var i,r,o;"classList"in document.documentElement?(i=function(e,t){return e.classList.contains(t)},r=function(e,t){e.classList.add(t)},o=function(e,t){e.classList.remove(t)}):(i=function(e,n){return t(n).test(e.className)},r=function(e,t){i(e,t)||(e.className=e.className+" "+t)},o=function(e,n){e.className=e.className.replace(t(n)," ")});var s={hasClass:i,addClass:r,removeClass:o,toggleClass:n,has:i,add:r,remove:o,toggle:n};"function"==typeof define&&define.amd?define(s):e.classie=s}(window);var docElem=window.document.documentElement,transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},transEndEventName=transEndEventNames[Modernizr.prefixed("transition")],support={pointerevents:Modernizr.pointerevents,csstransitions:Modernizr.csstransitions,csstransforms3d:Modernizr.csstransforms3d};!function(e){"use strict";function t(e,t){this.el=e,this.options=extend({},this.options),extend(this.options,t),this._init()}t.prototype.options={},t.prototype._init=function(){this.gridWrap=this.el.querySelector("div.grid-wrap"),this.grid=this.gridWrap.querySelector("div.grid"),this.gridItems=[].slice.call(this.grid.children),this.itemSize={width:this.gridItems[0].offsetWidth,height:this.gridItems[0].offsetHeight},this.contentEl=this.el.querySelector("div.content"),this.contentItems=[].slice.call(this.contentEl.children),this.close=this.contentEl.querySelector("span.close-content"),this.loader=this.contentEl.querySelector("span.loading"),this.support=support.pointerevents&&support.csstransitions&&support.csstransforms3d,this._initEvents()},t.prototype._initEvents=function(){var t=this;this.gridItems.forEach(function(e,n){e.addEventListener("click",function(){t._showContent(n)})}),this.close.addEventListener("click",function(){t._hideContent()}),this.support&&(e.addEventListener("resize",function(){t._resizeHandler()}),e.addEventListener("scroll",function(){t.isAnimating?e.scrollTo(t.scrollPosition?t.scrollPosition.x:0,t.scrollPosition?t.scrollPosition.y:0):(t.scrollPosition={x:e.pageXOffset||docElem.scrollLeft,y:e.pageYOffset||docElem.scrollTop},t._scrollHandler())}))},t.prototype._showContent=function(e){if(this.isAnimating)return!1;this.isAnimating=!0;var t=this,n=function(){setTimeout(function(){classie.removeClass(t.loader,"show"),classie.addClass(t.contentItems[e],"show")},1e3),classie.addClass(t.contentEl,"show"),classie.addClass(t.loader,"show"),classie.addClass(document.body,"noscroll"),t.isAnimating=!1};if(!this.support)return n(),!1;var i=this.gridItems[e],r=i.innerHTML;this.placeholder=this._createPlaceholder(r),this.placeholder.style.left=i.offsetLeft+"px",this.placeholder.style.top=i.offsetTop+"px",this.grid.appendChild(this.placeholder);var o=function(){classie.addClass(i,"active"),classie.addClass(t.gridWrap,"view-full"),t._resizePlaceholder();var e=function(t){if(-1===t.propertyName.indexOf("transform"))return!1;this.removeEventListener(transEndEventName,e),n()};t.placeholder.addEventListener(transEndEventName,e)};setTimeout(o,25)},t.prototype._hideContent=function(){var e=this,t=this.el.querySelector("div.content > .show"),n=this.gridItems[this.contentItems.indexOf(t)];if(classie.removeClass(t,"show"),classie.removeClass(this.contentEl,"show"),setTimeout(function(){classie.removeClass(document.body,"noscroll")},25),!this.support)return!1;classie.removeClass(this.gridWrap,"view-full"),this.placeholder.style.left=n.offsetLeft+"px",this.placeholder.style.top=n.offsetTop+"px",this.placeholder.style.width=this.itemSize.width+"px",this.placeholder.style.height=this.itemSize.height+"px";var i=function(t){this.removeEventListener(transEndEventName,i),e.placeholder.parentNode.removeChild(e.placeholder),classie.removeClass(n,"active")};this.placeholder.addEventListener(transEndEventName,i)},t.prototype._createPlaceholder=function(e){var t=document.createElement("div");t.className="front",t.innerHTML=e;var n=document.createElement("div");n.className="back",n.innerHTML="&nbsp;";var i=document.createElement("div");return i.className="placeholder",i.appendChild(t),i.appendChild(n),i},t.prototype._scrollHandler=function(){var e=this;this.didScroll||(this.didScroll=!0,setTimeout(function(){e._scrollPage()},60))},t.prototype._scrollPage=function(){var e=scrollY()+getViewportH()/2;this.gridWrap.style.WebkitPerspectiveOrigin="50% "+e+"px",this.gridWrap.style.MozPerspectiveOrigin="50% "+e+"px",this.gridWrap.style.perspectiveOrigin="50% "+e+"px",this.didScroll=!1},t.prototype._resizeHandler=function(){function e(){t._resizePlaceholder(),t._scrollPage(),t._resizeTimeout=null}var t=this;this._resizeTimeout&&clearTimeout(this._resizeTimeout),this._resizeTimeout=setTimeout(e,50)},t.prototype._resizePlaceholder=function(){if(this.itemSize={width:this.gridItems[0].offsetWidth,height:this.gridItems[0].offsetHeight},this.placeholder){var e=getOffset(this.grid);this.placeholder.style.left=Number(-1*(e.left-scrollX()))+"px",this.placeholder.style.top=Number(-1*(e.top-scrollY()))+"px",this.placeholder.style.width=getViewportW()+"px",this.placeholder.style.height=getViewportH()+"px"}},e.grid3D=t}(window);